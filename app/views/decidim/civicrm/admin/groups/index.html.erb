<div class="card">
  <div class="card-divider">
    <h2 class="card-title">
      <%= t(".title") %>

      <%= link_to t(".sync"), decidim_civicrm_admin.sync_groups_path, class: "button tiny button--title" %>
    </h2>
  </div>
  <div class="card-section">
    <% if groups.any? %>
      <table class="table-list civicrm-groups">
        <thead>
          <tr>
            <th><%= t(".id") %></th>
            <th><%= t(".name") %></th>
            <th><%= t(".description") %></th>
            <th><%= t(".participants") %></th>
            <th><%= t(".total_members") %></th>
            <th><%= t(".actions") %></th>
          </tr>
        </thead>
        <tbody>
          <% groups.each do |group| %>
            <tr>
              <td><%= group.id %></td>
              <td><%= group.title %></td>
              <td><%= group.description %></td>
              <td><%= group.members.count %></td>
              <td><%= group.civicrm_member_count %></td>
              
              <td class="table-list__actions">
                <%= icon_link_to "people", decidim_civicrm_admin.group_path(group.id), t(".members"), class: "action-icon action-icon--people" %>
                <%= icon_link_to "reload", decidim_civicrm_admin.sync_groups_path(id: group.id), t(".sync"), class: "action-icon action-icon--reload" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
      <%= paginate groups, theme: "decidim" %>
    <% else %>
      <p class="alert">
        <%= t(".empty") %>
        <%= link_to t(".sync"), decidim_civicrm_admin.sync_groups_path %>
      </p>
    <% end %>
  </div>
</div>

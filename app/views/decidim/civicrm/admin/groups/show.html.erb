<div class="card">
  <div class="card-divider">
    <h2 class="card-title">
      <%= t(".title", group_name: group.title) %>

      <%= link_to t(".sync"), decidim_civicrm_admin.sync_groups_path(id: group.id), class: "button tiny button--title" %>
    </h2>
  </div>
  <div class="card-section">
    <% if members.any? %>
      <table class="table-list civicrm-group-members">
        <thead>
          <tr>
            <th><%= t(".name") %></th>
            <th><%= t(".nickname") %></th>
            <th><%= t(".created_at") %></th>
            <th><%= t(".actions") %></th>
          </tr>
        </thead>
        <tbody>
          <% group.members.each do |member| %>
            <tr>
              <td><%= member.user.name %></td>
              <td><%= member.user.nickname %></td>
              <td><%= l member.created_at, format: :decidim_short %></td>

              <td class="table-list__actions">
                <%= icon_link_to "person", decidim.profile_path(nickname: member.user.nickname), t(".view_profile"), class: "action-icon action-icon--view-profile", target: :blank %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
      <%= paginate members, theme: "decidim" %>
    <% else %>
      <p class="alert">
        <%= t(".empty") %>
        <%= link_to t(".sync"), decidim_civicrm_admin.sync_groups_path(id: group.id) %>
      </p>
    <% end %>
  </div>
</div>
